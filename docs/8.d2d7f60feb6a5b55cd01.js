(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"0Aao":function(e,t,n){"use strict";n.r(t);var a=n("TYT/"),r=n("Valr"),i=n("QJY3"),o=n("xP0V"),l=n("kJ4b"),s=n("DUip"),d=n("15JJ"),c=n("xMyE"),m=n("K9Ia"),p=n("KN+2"),u=n("ib5a"),f=[new u.L({id:"Title",maxLength:25,placeholder:"Title of Recording",validators:{required:null},errorMessages:{required:"Field is required"}}),new u.L({id:"Artist",maxLength:50,placeholder:"Name of Artist",validators:{required:null},errorMessages:{required:"Field is required"},additional:{color:"accent"}}),new u.L({id:"Barcode",maxLength:150,placeholder:"Barcode"}),new u.L({id:"Catalogue Number",maxLength:50,placeholder:"Catalogue Number"}),new u.L({id:"Collective",maxLength:50,placeholder:"Collective"}),new u.L({id:"Date",placeholder:"Date"}),new u.L({id:"Distribution",maxLength:50,placeholder:"Distribution"}),new u.L({id:"Format",maxLength:10,placeholder:"Format"}),new u.L({id:"Number of tracks",maxLength:3,placeholder:"Number of tracks"}),new u.L({id:"Owner",maxLength:50,placeholder:"Owner",validators:{required:null},errorMessages:{required:"Field is required"}}),new u.L({id:"Territory",maxLength:50,placeholder:"Territory"}),new u.L({id:"Type",maxLength:50,placeholder:"Type"}),new u.L({id:"Submitted to",placeholder:"Submitted to"})],h={Ownerx:{element:{host:"col-sm-4"}}},g=n("QrbZ"),b=n("YfVx"),x=n("uLXW"),y=n("2mMm"),S=[3,"formGroup"],w=["fxLayout","row wrap","fxLayoutAlign","start start","fxLayoutGap","40px",3,"group","layout","model","blur","change","focus","matEvent"],v=["mat-dialog-actions","",1,"align-right"],E=["mat-button","","mat-dialog-close","cancel"],C=["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],L=function(){function e(e,t){this.data=e,this.formService=t,this.formModel=f,this.formLayout=h}return e.prototype.ngOnInit=function(){this.formGroup=this.formService.createFormGroup(this.formModel),this.formGroup.patchValue(this.data)},e.prototype.onBlur=function(e){console.log("Material blur event on: "+e.model.id+": ",e)},e.prototype.onChange=function(e){console.log("Material change event on: "+e.model.id+": ",e)},e.prototype.onFocus=function(e){console.log("Material focus event on: "+e.model.id+": ",e)},e.prototype.onMatEvent=function(e){console.log("Material "+e.type+" event on: "+e.model.id+": ",e)},e.ngComponentDef=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-music-releases-edit"]],factory:function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g.a),a["\u0275\u0275directiveInject"](u.G))},consts:12,vars:9,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"mat-card"),a["\u0275\u0275elementStart"](2,"form",S),a["\u0275\u0275elementStart"](3,"dynamic-material-form",w),a["\u0275\u0275listener"]("blur",function(e){return t.onBlur(e)}),a["\u0275\u0275listener"]("change",function(e){return t.onChange(e)}),a["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)}),a["\u0275\u0275listener"]("matEvent",function(e){return t.onMatEvent(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",v),a["\u0275\u0275elementStart"](5,"button",E),a["\u0275\u0275text"](6,"Cancel"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"button",C),a["\u0275\u0275text"](8,"Save"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"pre"),a["\u0275\u0275text"](10),a["\u0275\u0275pipe"](11,"json"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275select"](2),a["\u0275\u0275property"]("formGroup",t.formGroup),a["\u0275\u0275select"](3),a["\u0275\u0275property"]("group",t.formGroup)("layout",t.formLayout)("model",t.formModel),a["\u0275\u0275select"](7),a["\u0275\u0275property"]("mat-dialog-close",t.data.Name)("disabled",t.formGroup.invalid),a["\u0275\u0275select"](10),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](11,7,t.formGroup.value)))},directives:[b.a,i["\u0275angular_packages_forms_forms_z"],i.NgControlStatusGroup,i.FormGroupDirective,o.b,x.b,x.a,x.c,g.c,y.b,g.d],pipes:[r.g],styles:["dynamic-material-form[fxLayoutAlign][_ngcontent-%COMP%] { padding:10px; padding-left: 25px;}"]}),e}(),T=n("dx/t"),I=n("qyIo"),D=n("oGjB"),k=n("SjVd"),A=[new u.L({id:"ISRC",maxLength:50,placeholder:"ISRC"}),new u.L({id:"recordingTitle",maxLength:25,placeholder:"Recording Title"}),new u.L({id:"bandArtistName",maxLength:50,placeholder:"Band/Artist Name"}),new u.L({id:"genere",placeholder:"Genere",hint:"if a classical or dramatic work"}),new u.L({id:"date",placeholder:"Date"}),new u.L({id:"name",maxLength:50,placeholder:"Name"}),new u.L({id:"line",maxLength:50,placeholder:"Line"}),new u.r({id:"releaseType",label:"Release Type",group:[new u.s({id:"single",label:"single",value:!0}),new u.s({id:"LP",label:"LP",value:!1}),new u.s({id:"EP",label:"EP",value:!1})]}),new u.r({id:"format",label:"Format",group:[new u.s({id:"Digital",label:"Digital",value:!0}),new u.s({id:"cd",label:"CD",value:!1}),new u.s({id:"vinyl",label:"Vinyl",value:!1}),new u.s({id:"cassette",label:"Cassette",value:!1})]}),new u.D({id:"signoff",group:[new u.Q({id:"reminder",offLabel:"Send me a reminder",onLabel:"Send me a reminder",value:!1}),new u.Q({id:"updates",offLabel:"Subscribe to Updates",onLabel:"Subscribe to Updates",value:!1}),new u.s({id:"confirm",label:"I confirm the information given above",value:!1,validators:{requiredTrue:null},errorMessages:{required:"You must confirm your data is correct"}})]})],O=[3,"formGroup"],R=["fxLayout","row wrap","fxLayoutAlign","start start","fxLayoutGap","40px",3,"group","layout","model","blur","change","focus","matEvent"],G=["mat-dialog-actions","",1,"align-right"],N=["mat-button","","mat-dialog-close","cancel"],F=["mat-raised-button","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],M=function(){function e(e,t){this.data=e,this.formService=t,this.formModel=A,this.formLayout={}}return e.prototype.ngOnInit=function(){this.formGroup=this.formService.createFormGroup(this.formModel),this.formGroup.patchValue(this.data)},e.prototype.onBlur=function(e){console.log("Material blur event on: "+e.model.id+": ",e)},e.prototype.onChange=function(e){console.log("Material change event on: "+e.model.id+": ",e)},e.prototype.onFocus=function(e){console.log("Material focus event on: "+e.model.id+": ",e)},e.prototype.onMatEvent=function(e){console.log("Material "+e.type+" event on: "+e.model.id+": ",e)},e.ngComponentDef=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register-new-release"]],factory:function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g.a),a["\u0275\u0275directiveInject"](u.G))},consts:15,vars:10,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"p"),a["\u0275\u0275text"](2," introduction about registering a new Release here"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"mat-card"),a["\u0275\u0275elementStart"](4,"form",O),a["\u0275\u0275elementStart"](5,"dynamic-material-form",R),a["\u0275\u0275listener"]("blur",function(e){return t.onBlur(e)}),a["\u0275\u0275listener"]("change",function(e){return t.onChange(e)}),a["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)}),a["\u0275\u0275listener"]("matEvent",function(e){return t.onMatEvent(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",G),a["\u0275\u0275elementStart"](7,"button",N),a["\u0275\u0275text"](8,"Cancel"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"button",F),a["\u0275\u0275text"](10,"Register"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"button",F),a["\u0275\u0275text"](12,"Distribute"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"button",F),a["\u0275\u0275text"](14,"Save"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275select"](4),a["\u0275\u0275property"]("formGroup",t.formGroup),a["\u0275\u0275select"](5),a["\u0275\u0275property"]("group",t.formGroup)("layout",t.formLayout)("model",t.formModel),a["\u0275\u0275select"](9),a["\u0275\u0275property"]("mat-dialog-close",t.formGroup.value)("disabled",t.formGroup.invalid),a["\u0275\u0275select"](11),a["\u0275\u0275property"]("mat-dialog-close",t.formGroup.value)("disabled",t.formGroup.invalid),a["\u0275\u0275select"](13),a["\u0275\u0275property"]("mat-dialog-close",t.formGroup.value)("disabled",t.formGroup.invalid))},directives:[b.a,i["\u0275angular_packages_forms_forms_z"],i.NgControlStatusGroup,i.FormGroupDirective,o.b,x.b,x.a,x.c,g.c,y.b,g.d],styles:[""]}),e}(),j=n("yLgZ"),z=n("utYi"),V=n("lAl6"),P=n("S8bm"),$=n("p6iS"),B=n("P11e"),q=["mat-dialog-content","",4,"ngIf"],_=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start end",4,"ngIf"],W=[4,"ngIf"],Y=["mat-dialog-content","",1,"my-5"],J=[1,"table","table-sm"],H=[4,"ngFor","ngForOf"],Q=["mat-dialog-content",""],U=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start stretch","mat-dialog-content","",1,"mt-3"],K=["mat-dialog-actions",""],X=["mat-button","","mat-dialog-close","cancel"],Z=["mat-button","","mat-raised-button","",3,"click"],ee=["mat-mini-fab","","matTooltip","Remove from Claim",3,"click"],te=["mat-mini-fab","","matTooltip","Edit",3,"click"];function ne(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-card"),a["\u0275\u0275elementStart"](1,"mat-card-header"),a["\u0275\u0275elementStart"](2,"mat-card-title"),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"mat-card-subtitle"),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"mat-card-content"),a["\u0275\u0275text"](7),a["\u0275\u0275element"](8,"br"),a["\u0275\u0275text"](9),a["\u0275\u0275element"](10,"br"),a["\u0275\u0275text"](11),a["\u0275\u0275element"](12,"br"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"mat-card-actions"),a["\u0275\u0275elementStart"](14,"button",ee),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var r=t.index;return a["\u0275\u0275nextContext"](2).removeClaim(r)}),a["\u0275\u0275elementStart"](15,"mat-icon"),a["\u0275\u0275text"](16,"delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"button",te),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var r=t.index;return a["\u0275\u0275nextContext"](2).removeClaim(r)}),a["\u0275\u0275elementStart"](18,"mat-icon"),a["\u0275\u0275text"](19,"edit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,i=t.index,o=a["\u0275\u0275nextContext"](2);a["\u0275\u0275select"](3),a["\u0275\u0275textInterpolate2"]("Release ",i+1," / ",o.data.length,""),a["\u0275\u0275select"](5),a["\u0275\u0275textInterpolate"](r.name),a["\u0275\u0275select"](7),a["\u0275\u0275textInterpolate1"](" Artist: ",r.artist,""),a["\u0275\u0275select"](9),a["\u0275\u0275textInterpolate1"](" Collective: ",r.collective,""),a["\u0275\u0275select"](11),a["\u0275\u0275textInterpolate1"](" Owner: ",r.owner,"")}}function ae(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",Q),a["\u0275\u0275elementStart"](1,"section"),a["\u0275\u0275elementStart"](2,"div",U),a["\u0275\u0275template"](3,ne,20,6,"mat-card",H),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",K),a["\u0275\u0275elementStart"](5,"button",X),a["\u0275\u0275text"](6,"Cancel"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"button",Z),a["\u0275\u0275listener"]("click",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onNextStep()}),a["\u0275\u0275text"](8,"Distribute"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275select"](3),a["\u0275\u0275property"]("ngForOf",r.data.data)}}var re=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start end"],ie=["mat-dialog-content","","fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start start",1,"my-5"],oe=[3,"routerLink"],le=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start stretch"],se=["mat-button","","mat-raised-button","","mat-dialog-close","next",3,"click"];function de(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-list-item"),a["\u0275\u0275elementStart"](1,"b"),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"uppercase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275select"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](3,1,n))}}var ce=["mat-list-icon",""],me=["mat-line",""];function pe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-card"),a["\u0275\u0275elementStart"](1,"mat-icon",ce),a["\u0275\u0275text"](2,"library_music"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"h6",me),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"p",me),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275select"](4),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275select"](6),a["\u0275\u0275textInterpolate1"](" ",n.artist," ")}}var ue=["/adapters"];function fe(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",re),a["\u0275\u0275elementStart"](1,"section",ie),a["\u0275\u0275elementStart"](2,"div"),a["\u0275\u0275text"](3," You are about to post your Releases to the following platforms: "),a["\u0275\u0275elementStart"](4,"mat-list"),a["\u0275\u0275template"](5,de,4,3,"mat-list-item",H),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](6," To add more Platforms please enable more "),a["\u0275\u0275elementStart"](7,"a",oe),a["\u0275\u0275text"](8,"Adapters"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",le),a["\u0275\u0275template"](10,pe,7,2,"mat-card",H),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",K),a["\u0275\u0275elementStart"](12,"button",X),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",se),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.nextClaimStep3(t.data.section)}),a["\u0275\u0275text"](15,"Continue"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275select"](5),a["\u0275\u0275property"]("ngForOf",r.enabled),a["\u0275\u0275select"](7),a["\u0275\u0275property"]("routerLink",ue),a["\u0275\u0275select"](9),a["\u0275\u0275property"]("@enterLeaveInOut-2",r.data),a["\u0275\u0275select"](10),a["\u0275\u0275property"]("ngForOf",r.data.data)}}var he=["mat-dialog-close","true",3,"routerLink"];function ge(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"h2"),a["\u0275\u0275text"](2,"You need to enable your "),a["\u0275\u0275elementStart"](3,"a",he),a["\u0275\u0275text"](4,"Adapters"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](5," before continuing "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275select"](3),a["\u0275\u0275property"]("routerLink",ue))}var be=[2,"width","80px"],xe=[2,"min-width","200px"],ye=["mode","determinate",3,"value"],Se=["matTooltip","Awaiting response",1,"material-icons"];function we(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",be),a["\u0275\u0275elementStart"](2,"mat-chip"),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"td"),a["\u0275\u0275elementStart"](5,"b"),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",xe),a["\u0275\u0275element"](8,"mat-progress-bar",ye),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td"),a["\u0275\u0275elementStart"](10,"i",Se),a["\u0275\u0275text"](11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275select"](3),a["\u0275\u0275textInterpolate"](n.step),a["\u0275\u0275select"](6),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275select"](8),a["\u0275\u0275propertyInterpolate"]("value",n.percentComplete),a["\u0275\u0275select"](11),a["\u0275\u0275textInterpolate1"](" ",n.icon," ")}}var ve=[{step:1,name:"Releases Selected",percentComplete:100,icon:"done"},{step:2,name:"Data confirmed",percentComplete:100,icon:"done"}],Ee=function(){function e(e,t,n){this.data=e,this.router=t,this.adapters=n,this.nextStep=!1,this.displayedColumns=["step","name","percentComplete","icon"],this.dataSource=[],this.nextDataSource=[]}return e.prototype.ngOnInit=function(){ve=[{step:1,name:"Releases Selected",percentComplete:100,icon:"done"},{step:2,name:"Data confirmed",percentComplete:100,icon:"done"}],this.dataSource=[],this.nextDataSource=[],this.dataSource=ve},Object.defineProperty(e.prototype,"enabled",{get:function(){return Object.keys(this.adapters.enabledAdapters)},enumerable:!0,configurable:!0}),e.prototype.onNextStep=function(){var e=this;this.nextDataSource=[],this.nextDataSource=ve,this.enabled.forEach(function(t){e.nextDataSource.push({step:e.nextDataSource.length+1,name:"Sent to: "+t,percentComplete:3*e.nextDataSource.length,icon:"schedule"})}),this.nextStep=!0,this.dataSource=[],this.dataSource=this.nextDataSource},e.prototype.nextClaimStep3=function(e){},e.prototype.removeClaim=function(e){this.data.splice(e,1)},e.ngComponentDef=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-publish"]],factory:function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g.a),a["\u0275\u0275directiveInject"](s.c),a["\u0275\u0275directiveInject"](j.a))},consts:9,vars:5,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"h2"),a["\u0275\u0275text"](1,"Publish/Distribute Your Release"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](2,"\nPlease be sure all info is correct before starting the distribution process.\n"),a["\u0275\u0275template"](3,ae,9,1,"div",q),a["\u0275\u0275template"](4,fe,16,4,"div",_),a["\u0275\u0275template"](5,ge,6,1,"div",W),a["\u0275\u0275elementStart"](6,"div",Y),a["\u0275\u0275elementStart"](7,"table",J),a["\u0275\u0275template"](8,we,12,4,"tr",H),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275select"](3),a["\u0275\u0275property"]("ngIf",!t.nextStep),a["\u0275\u0275select"](4),a["\u0275\u0275property"]("ngIf",t.nextStep&&t.enabled.length),a["\u0275\u0275select"](5),a["\u0275\u0275property"]("ngIf",0===t.enabled.length),a["\u0275\u0275select"](7),a["\u0275\u0275property"]("@enterLeaveInOut-3",t.dataSource),a["\u0275\u0275select"](8),a["\u0275\u0275property"]("ngForOf",t.dataSource))},directives:[r.n,g.e,r.m,x.b,x.c,x.a,g.c,y.b,g.d,b.a,b.d,b.g,b.f,b.c,b.b,z.a,V.a,s.f,V.c,V.b,P.i,$.b,B.a],pipes:[r.w],styles:[".mat-chip.mat-standard-chip[_ngcontent-%COMP%]{background-color:#e0e0e0;color:rgba(0,0,0,.87);border-radius:16px;padding:7px 12px;-webkit-transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;cursor:default;min-height:32px;height:1px}.mat-cell[_ngcontent-%COMP%]{padding:6px}"],data:{animation:[D.a.kendraAnimations]}}),e}(),Ce=[4,"ngIf"],Le=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start end",4,"ngIf"],Te=["mat-dialog-content",""],Ie=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start stretch","mat-dialog-content","",1,"mt-4"],De=[4,"ngFor","ngForOf"],ke=["mat-dialog-actions",""],Ae=["mat-button","","mat-dialog-close","cancel"],Oe=["mat-button","","mat-raised-button","",3,"click"],Re=["mat-mini-fab","","matTooltip","Remove from Claim",3,"click"],Ge=["mat-mini-fab","","matTooltip","Edit",3,"click"];function Ne(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-card"),a["\u0275\u0275elementStart"](1,"mat-card-header"),a["\u0275\u0275elementStart"](2,"mat-card-title"),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"mat-card-subtitle"),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"mat-card-content"),a["\u0275\u0275text"](7),a["\u0275\u0275element"](8,"br"),a["\u0275\u0275text"](9),a["\u0275\u0275element"](10,"br"),a["\u0275\u0275text"](11),a["\u0275\u0275element"](12,"br"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"mat-card-actions"),a["\u0275\u0275elementStart"](14,"button",Re),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var r=t.index;return a["\u0275\u0275nextContext"](2).removeClaim(r)}),a["\u0275\u0275elementStart"](15,"mat-icon"),a["\u0275\u0275text"](16,"delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"button",Ge),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var r=t.index;return a["\u0275\u0275nextContext"](2).removeClaim(r)}),a["\u0275\u0275elementStart"](18,"mat-icon"),a["\u0275\u0275text"](19,"edit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,i=t.index,o=a["\u0275\u0275nextContext"](2);a["\u0275\u0275select"](3),a["\u0275\u0275textInterpolate2"]("Release ",i+1," / ",o.data.length,""),a["\u0275\u0275select"](5),a["\u0275\u0275textInterpolate"](r.name),a["\u0275\u0275select"](7),a["\u0275\u0275textInterpolate1"](" Artist: ",r.artist,""),a["\u0275\u0275select"](9),a["\u0275\u0275textInterpolate1"](" Collective: ",r.collective,""),a["\u0275\u0275select"](11),a["\u0275\u0275textInterpolate1"](" Owner: ",r.owner,"")}}function Fe(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"section",Te),a["\u0275\u0275elementStart"](2,"div",Ie),a["\u0275\u0275template"](3,Ne,20,6,"mat-card",De),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",ke),a["\u0275\u0275elementStart"](5,"button",Ae),a["\u0275\u0275text"](6,"Cancel"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"button",Oe),a["\u0275\u0275listener"]("click",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onNextStep()}),a["\u0275\u0275text"](8,"Register"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275select"](3),a["\u0275\u0275property"]("ngForOf",r.data.data)}}var Me=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start end"],je=["mat-dialog-content","","fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start start",1,"my-5"],ze=[3,"routerLink"],Ve=["fxLayout","row wrap","fxLayoutGap","20px","fxLayoutAlign","start stretch"],Pe=["mat-button","","mat-raised-button","","mat-dialog-close","next",3,"click"],$e=["mat-list-icon",""],Be=["mat-line",""];function qe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-card"),a["\u0275\u0275elementStart"](1,"mat-icon",$e),a["\u0275\u0275text"](2,"library_music"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"h6",Be),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"p",Be),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275select"](4),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275select"](6),a["\u0275\u0275textInterpolate1"](" ",n.artist," ")}}var _e=["/adapters"];function We(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",Me),a["\u0275\u0275elementStart"](1,"section",je),a["\u0275\u0275elementStart"](2,"div"),a["\u0275\u0275text"](3," You are about to post your Releases to the following CMOs: "),a["\u0275\u0275elementStart"](4,"mat-list"),a["\u0275\u0275elementStart"](5,"mat-list-item"),a["\u0275\u0275elementStart"](6,"b"),a["\u0275\u0275text"](7,"PRS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"mat-list-item"),a["\u0275\u0275elementStart"](9,"b"),a["\u0275\u0275text"](10,"PPL"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](11," To add more CMOs please enable more "),a["\u0275\u0275elementStart"](12,"a",ze),a["\u0275\u0275text"](13,"Adapters"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"div",Ve),a["\u0275\u0275template"](15,qe,7,2,"mat-card",De),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",ke),a["\u0275\u0275elementStart"](17,"button",Ae),a["\u0275\u0275text"](18,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"button",Pe),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.nextClaimStep3(t.data.section)}),a["\u0275\u0275text"](20,"Continue"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275select"](12),a["\u0275\u0275property"]("routerLink",_e),a["\u0275\u0275select"](14),a["\u0275\u0275property"]("@enterLeaveInOut-2",r.data),a["\u0275\u0275select"](15),a["\u0275\u0275property"]("ngForOf",r.data.data)}}var Ye=["mat-dialog-close","true",3,"routerLink"];function Je(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"h2"),a["\u0275\u0275text"](2,"You need to enable your "),a["\u0275\u0275elementStart"](3,"a",Ye),a["\u0275\u0275text"](4,"CMO Adapters"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](5," before continuing "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275select"](3),a["\u0275\u0275property"]("routerLink",_e))}var He=function(){function e(e,t,n){this.data=e,this.router=t,this.adapters=n,this.nextStep=!1}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"enabled",{get:function(){return Object.keys(this.adapters.enabledAdapters)},enumerable:!0,configurable:!0}),e.prototype.onNextStep=function(){console.log(this.data),this.nextStep=!0},e.prototype.nextClaimStep3=function(e){},e.prototype.removeClaim=function(e){this.data.splice(e,1)},e.ngComponentDef=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register"]],factory:function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g.a),a["\u0275\u0275directiveInject"](s.c),a["\u0275\u0275directiveInject"](j.a))},consts:6,vars:3,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1,"Register Your Release"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](2,"\nPlease be sure all info is correct before starting the distribution process.\n"),a["\u0275\u0275template"](3,Fe,9,1,"div",Ce),a["\u0275\u0275template"](4,We,21,3,"div",Le),a["\u0275\u0275template"](5,Je,6,1,"div",Ce)),2&e&&(a["\u0275\u0275select"](3),a["\u0275\u0275property"]("ngIf",!t.nextStep),a["\u0275\u0275select"](4),a["\u0275\u0275property"]("ngIf",t.nextStep&&t.enabled.length),a["\u0275\u0275select"](5),a["\u0275\u0275property"]("ngIf",0===t.enabled.length))},directives:[r.n,g.e,x.b,x.c,x.a,r.m,g.c,y.b,g.d,b.a,b.d,b.g,b.f,b.c,b.b,z.a,V.a,V.c,s.f,V.b,P.i],styles:[""],data:{animation:[D.a.kendraAnimations]}}),e}(),Qe=["fxLayout","row wrap","fxLayoutAlign","start start","fxLayoutGap","40px","fxFlexFill","",1,"mt-3"],Ue=["mat-button","","mat-raised-button","","routerLinkActive","active",3,"routerLink"],Ke=["list"],Xe=["tasks"],Ze=function(){function e(e,t,n,a){this.testData=e,this.pageTitle=t,this.dialog=n,this.route=a,this.newReleases=[],this.routeData=this.route.snapshot.data,this.gridOptions={onGridReady:function(){},rowHeight:48,frameworkComponents:{inputRenderer:I.b,thing:I.a}}}return e.prototype.ngOnInit=function(){var e=this;this.claimsToSend=[],this.pageTitle.setTitle(this.routeData.pageTitle),this.entityTypes$=this.testData.listEntityTypes(),this.entityList$=(new m.a).pipe(Object(d.a)(function(t){return e.testData.listEntities(t)})),this.selectedEntity$=(new m.a).pipe(Object(d.a)(function(t){return e.testData.getEntity(e.selectedType,t)})),this.listAll$=(new m.a).pipe(Object(d.a)(function(t){return e.testData.listAll(t)})),this.listAll()},e.prototype.countryCellRenderer=function(e){return"<img border='0' width='15' height='10' style='margin-bottom: 2px' src='https://www.ag-grid.com/images/flags/gb.png'> "+e.value},e.prototype.editBtnCellRenderer=function(e){return'<button class="mat-button mat-raised-button"><span class="mat-button-wrapper">Edit</span><div class="mat-button-ripple mat-ripple"></div><div class="mat-button-focus-overlay"></div></button>'},e.prototype.changeEntityType=function(e){this.selectedType=e,this.entityList$.next(e)},e.prototype.changeEntity=function(e){this.selectedEntity$.next(e)},e.prototype.onCellClicked=function(e){"Actions"===e.colDef.headerName&&this.openDialog(e.data)},e.prototype.openDialog=function(e){this.dialog.open(L,{data:e,width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.openAddNewDialog=function(e){var t=this;this.dialog.open(M,{data:"ev",width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){"cancel"!==e&&t.addItemToGrid(e)})},e.prototype.addItemToGrid=function(e){this.gridOptions.api.updateRowData({add:[{type:"music-release",Title:e.recordingTitle,Artist:e.bandArtistName,Date:e.date,Owner:"owner",Territory:"Europe",Type:e.genere,Format:e.format,"Catalogue Number":"",Barcode:"","Number of tracks":"1",Distribution:"",Collective:"","Submitted to":""}],addIndex:0})},e.prototype.onSelectionChanged=function(e){var t=this;this.gridApi=e.api;var n=this.gridApi.getSelectedRows(),a="";n.forEach(function(e,t){t>5||(0!==t&&(a+=", "),a+=e.Title)}),this.claimsToSend=[],n.forEach(function(e){t.claimsToSend.push({name:e.Title,artist:e.Artist,collective:e.Collective,owner:e.Owner,date:e.Date,status:"Not Sent"})}),n.length>=6&&(a+=" - and "+(n.length-6)+" others"),document.querySelector("#selectedRows").innerHTML=a},e.prototype.sendToClaim=function(e){this.dialog.open(k.a,{data:{section:"releases",data:this.claimsToSend},width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.sendToPublish=function(e){this.dialog.open(Ee,{data:{section:"releases",data:this.claimsToSend},width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.sendToRegister=function(e){this.dialog.open(He,{data:{section:"releases",data:this.claimsToSend},width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.listAll=function(){var e=this;this.testData.listAll("music-release").pipe(Object(c.a)(function(){return e.showSpinner=!0})).subscribe(function(t){e.allItems=t,e.showSpinner=!1})},e.ngComponentDef=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-index"]],factory:function(t){return new(t||e)(a["\u0275\u0275directiveInject"](T.a),a["\u0275\u0275directiveInject"](p.a),a["\u0275\u0275directiveInject"](g.b),a["\u0275\u0275directiveInject"](s.a))},consts:10,vars:2,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"section",Qe),a["\u0275\u0275elementStart"](1,"button",Ue),a["\u0275\u0275elementStart"](2,"mat-icon"),a["\u0275\u0275text"](3,"forward"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](4," List "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"button",Ue),a["\u0275\u0275elementStart"](6,"mat-icon"),a["\u0275\u0275text"](7,"forward"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](8," Tasks "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](9,"router-outlet")),2&e&&(a["\u0275\u0275select"](1),a["\u0275\u0275property"]("routerLink",Ke),a["\u0275\u0275select"](5),a["\u0275\u0275property"]("routerLink",Xe))},directives:[x.b,x.a,x.c,x.d,y.b,s.e,s.d,z.a,s.h],styles:["dynamic-material-form[fxLayoutAlign][_ngcontent-%COMP%] { padding:10px; padding-left: 25px;}"],data:{animation:[D.a.kendraAnimations]}}),e}(),et=[1,"table","table-sm"],tt=[4,"ngFor","ngForOf"],nt=[2,"width","80px"],at=[2,"min-width","200px"],rt=["mode","determinate",3,"value"],it=["matTooltip","Awaiting response",1,"material-icons"];function ot(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",nt),a["\u0275\u0275elementStart"](2,"mat-chip"),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"td"),a["\u0275\u0275elementStart"](5,"b"),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",at),a["\u0275\u0275element"](8,"mat-progress-bar",rt),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td"),a["\u0275\u0275elementStart"](10,"i",it),a["\u0275\u0275text"](11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275select"](3),a["\u0275\u0275textInterpolate"](n.step),a["\u0275\u0275select"](6),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275select"](8),a["\u0275\u0275propertyInterpolate"]("value",n.percentComplete),a["\u0275\u0275select"](11),a["\u0275\u0275textInterpolate1"](" ",n.icon," ")}}var lt=[{step:1,name:"Releases Selected",percentComplete:100,icon:"done"},{step:2,name:"Data confirmed",percentComplete:100,icon:"done"}],st=function(){function e(e,t){this.router=e,this.adapters=t,this.nextStep=!1,this.displayedColumns=["step","name","percentComplete","icon"],this.dataSource=[],this.nextDataSource=[]}return e.prototype.ngOnInit=function(){lt=[{step:1,name:"Releases Selected",percentComplete:100,icon:"done"},{step:2,name:"Data confirmed",percentComplete:100,icon:"done"}],this.dataSource=[],this.nextDataSource=[],this.dataSource=lt,this.onNextStep()},Object.defineProperty(e.prototype,"enabled",{get:function(){return Object.keys(this.adapters.enabledAdapters)},enumerable:!0,configurable:!0}),e.prototype.onNextStep=function(){var e=this;this.nextDataSource=[],this.nextDataSource=lt,this.enabled.forEach(function(t){e.nextDataSource.push({step:e.nextDataSource.length+1,name:"Sent to: "+t,percentComplete:3*e.nextDataSource.length,icon:"schedule"})}),this.nextStep=!0,this.dataSource=[],this.dataSource=this.nextDataSource},e.ngComponentDef=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tasks"]],factory:function(t){return new(t||e)(a["\u0275\u0275directiveInject"](s.c),a["\u0275\u0275directiveInject"](j.a))},consts:2,vars:1,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"table",et),a["\u0275\u0275template"](1,ot,12,4,"tr",tt),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275select"](1),a["\u0275\u0275property"]("ngForOf",t.dataSource))},directives:[r.m,$.b,B.a],styles:[""]}),e}(),dt=n("uXrp"),ct=n("nVU4"),mt=["mat-button","","mat-raised-button","",3,"click"],pt=["mode","indeterminate",4,"ngIf"],ut=[1,"table-responsive-lg"],ft=["animateRows","true","rowSelection","multiple","animateRows","true",1,"ag-theme-material",2,"width","100%","height","700px",3,"gridOptions","frameworkComponents","rowData","cellClicked","selectionChanged"],ht=["agGrid",""],gt=["headerName","Releases"],bt=["headerName","#",3,"width","checkboxSelection","suppressMenu","pinned","resizable","filter"],xt=["headerName","Actions",3,"width","pinned","cellRenderer"],yt=["headerName","Title","field","Title",3,"width","pinned","sortable","resizable","filter","cellEditorFramework","editable"],St=["headerName","Artist","field","Artist",3,"width","pinned","sortable","resizable","filter","editable"],wt=["headerName","Details"],vt=["headerName","Date","field","Date",3,"width","sortable","resizable","filter"],Et=["headerName","Owner","field","Owner",3,"width","sortable","resizable","filter"],Ct=["headerName","Territory","field","Territory",3,"width","cellRenderer","sortable","resizable","filter"],Lt=["headerName","Type","field","Type",3,"width","sortable","resizable","filter"],Tt=["headerName","Format","field","Format",3,"width","sortable","resizable","filter"],It=["headerName","Catalogue Number","field","Catalogue Number",3,"width","pinned","sortable","resizable","filter"],Dt=["headerName","Barcode","field","Barcode",3,"width","pinned","sortable","resizable","filter"],kt=["headerName","#tracks","field","Number of tracks",3,"width","pinned","sortable","resizable","filter"],At=["headerName","Distribution","field","Distribution",3,"width","pinned","sortable","resizable","filter"],Ot=["headerName","Collective","field","Collective",3,"width","pinned","sortable","resizable","filter"],Rt=["headerName","Submitted to","field","Submitted to",3,"width","pinned","sortable","resizable","filter"],Gt=[4,"ngIf"],Nt=["id","selectedRows"],Ft=["mode","indeterminate"];function Mt(e,t){1&e&&a["\u0275\u0275element"](0,"mat-progress-bar",Ft)}var jt=["mat-raised-button","","mat-button","",3,"click"];function zt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-action-list"),a["\u0275\u0275elementStart"](1,"button",jt),a["\u0275\u0275listener"]("click",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().sendToClaim(e)}),a["\u0275\u0275text"](2,"Claim Selected"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",jt),a["\u0275\u0275listener"]("click",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().sendToRegister(e)}),a["\u0275\u0275text"](4,"Register Selected"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"button",jt),a["\u0275\u0275listener"]("click",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().sendToPublish(e)}),a["\u0275\u0275text"](6,"Distribute/Publish Selected"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}var Vt=[{path:"",component:Ze,data:{breadcrumb:""},children:[{path:"tasks",component:st,data:{breadcrumb:"Tasks"}},{path:"list",component:function(){function e(e,t,n){this.testData=e,this.pageTitle=t,this.dialog=n,this.newReleases=[],this.gridOptions={onGridReady:function(){},rowHeight:48,frameworkComponents:{inputRenderer:I.b,thing:I.a}}}return e.prototype.ngOnInit=function(){var e=this;this.claimsToSend=[],this.pageTitle.setTitle("Releases"),this.entityTypes$=this.testData.listEntityTypes(),this.entityList$=(new m.a).pipe(Object(d.a)(function(t){return e.testData.listEntities(t)})),this.selectedEntity$=(new m.a).pipe(Object(d.a)(function(t){return e.testData.getEntity(e.selectedType,t)})),this.listAll$=(new m.a).pipe(Object(d.a)(function(t){return e.testData.listAll(t)})),this.listAll()},e.prototype.countryCellRenderer=function(e){return"<img border='0' width='15' height='10' style='margin-bottom: 2px' src='https://www.ag-grid.com/images/flags/gb.png'> "+e.value},e.prototype.editBtnCellRenderer=function(e){return'<button class="mat-button mat-raised-button"><span class="mat-button-wrapper">Edit</span><div class="mat-button-ripple mat-ripple"></div><div class="mat-button-focus-overlay"></div></button>'},e.prototype.changeEntityType=function(e){this.selectedType=e,this.entityList$.next(e)},e.prototype.changeEntity=function(e){this.selectedEntity$.next(e)},e.prototype.onCellClicked=function(e){"Actions"===e.colDef.headerName&&this.openDialog(e.data)},e.prototype.openDialog=function(e){this.dialog.open(L,{data:e,width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.openAddNewDialog=function(e){var t=this;this.dialog.open(M,{data:"ev",width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){"cancel"!==e&&t.addItemToGrid(e)})},e.prototype.addItemToGrid=function(e){this.gridOptions.api.updateRowData({add:[{type:"music-release",Title:e.recordingTitle,Artist:e.bandArtistName,Date:e.date,Owner:"owner",Territory:"Europe",Type:e.genere,Format:e.format,"Catalogue Number":"",Barcode:"","Number of tracks":"1",Distribution:"",Collective:"","Submitted to":""}],addIndex:0})},e.prototype.onSelectionChanged=function(e){var t=this;this.gridApi=e.api;var n=this.gridApi.getSelectedRows(),a="";n.forEach(function(e,t){t>5||(0!==t&&(a+=", "),a+=e.Title)}),this.claimsToSend=[],n.forEach(function(e){t.claimsToSend.push({name:e.Title,artist:e.Artist,collective:e.Collective,owner:e.Owner,date:e.Date,status:"Not Sent"})}),n.length>=6&&(a+=" - and "+(n.length-6)+" others"),document.querySelector("#selectedRows").innerHTML=a},e.prototype.sendToClaim=function(e){this.dialog.open(k.a,{data:{section:"releases",data:this.claimsToSend},width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.sendToPublish=function(e){this.dialog.open(Ee,{data:{section:"releases",data:this.claimsToSend},width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.sendToRegister=function(e){this.dialog.open(He,{data:{section:"releases",data:this.claimsToSend},width:"80%",panelClass:"formFieldWidth380"}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})},e.prototype.listAll=function(){var e=this;this.testData.listAll("music-release").pipe(Object(c.a)(function(){return e.showSpinner=!0})).subscribe(function(t){e.allItems=t,e.showSpinner=!1})},e.ngComponentDef=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list"]],factory:function(t){return new(t||e)(a["\u0275\u0275directiveInject"](T.a),a["\u0275\u0275directiveInject"](p.a),a["\u0275\u0275directiveInject"](g.b))},consts:32,vars:82,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-toolbar"),a["\u0275\u0275elementStart"](1,"span"),a["\u0275\u0275elementStart"](2,"button",mt),a["\u0275\u0275listener"]("click",function(e){return t.openAddNewDialog()}),a["\u0275\u0275text"](3,"Create Release"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](4,"router-outlet"),a["\u0275\u0275template"](5,Mt,1,0,"mat-progress-bar",pt),a["\u0275\u0275elementStart"](6,"div",ut),a["\u0275\u0275elementStart"](7,"ag-grid-angular",ft,ht),a["\u0275\u0275listener"]("cellClicked",function(e){return t.onCellClicked(e)}),a["\u0275\u0275listener"]("selectionChanged",function(e){return t.onSelectionChanged(e)}),a["\u0275\u0275elementStart"](9,"ag-grid-column",gt),a["\u0275\u0275element"](10,"ag-grid-column",bt),a["\u0275\u0275element"](11,"ag-grid-column",xt),a["\u0275\u0275element"](12,"ag-grid-column",yt),a["\u0275\u0275element"](13,"ag-grid-column",St),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"ag-grid-column",wt),a["\u0275\u0275element"](15,"ag-grid-column",vt),a["\u0275\u0275element"](16,"ag-grid-column",Et),a["\u0275\u0275element"](17,"ag-grid-column",vt),a["\u0275\u0275element"](18,"ag-grid-column",Ct),a["\u0275\u0275element"](19,"ag-grid-column",Lt),a["\u0275\u0275element"](20,"ag-grid-column",Tt),a["\u0275\u0275element"](21,"ag-grid-column",It),a["\u0275\u0275element"](22,"ag-grid-column",Dt),a["\u0275\u0275element"](23,"ag-grid-column",kt),a["\u0275\u0275element"](24,"ag-grid-column",At),a["\u0275\u0275element"](25,"ag-grid-column",Ot),a["\u0275\u0275element"](26,"ag-grid-column",Rt),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](27,zt,7,0,"mat-action-list",Gt),a["\u0275\u0275elementStart"](28,"div"),a["\u0275\u0275text"](29,"Selection: "),a["\u0275\u0275elementStart"](30,"span",Nt),a["\u0275\u0275text"](31,"..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275select"](5),a["\u0275\u0275property"]("ngIf",t.showSpinner),a["\u0275\u0275select"](7),a["\u0275\u0275property"]("gridOptions",t.gridOptions)("frameworkComponents",t.gridOptions.frameworkComponents)("rowData",t.allItems),a["\u0275\u0275select"](10),a["\u0275\u0275property"]("width",80)("checkboxSelection",!0)("suppressMenu",!1)("pinned",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](11),a["\u0275\u0275property"]("width",100)("pinned",!0)("cellRenderer",t.editBtnCellRenderer),a["\u0275\u0275select"](12),a["\u0275\u0275property"]("width",175)("pinned",!0)("sortable",!0)("resizable",!0)("filter",!0)("cellEditorFramework",t.gridOptions.frameworkComponents.inputRenderer)("editable",!0),a["\u0275\u0275select"](13),a["\u0275\u0275property"]("width",120)("pinned",!0)("sortable",!0)("resizable",!0)("filter",!0)("editable",!1),a["\u0275\u0275select"](15),a["\u0275\u0275property"]("width",100)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](16),a["\u0275\u0275property"]("width",100)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](17),a["\u0275\u0275property"]("width",100)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](18),a["\u0275\u0275property"]("width",100)("cellRenderer",t.countryCellRenderer)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](19),a["\u0275\u0275property"]("width",150)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](20),a["\u0275\u0275property"]("width",150)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](21),a["\u0275\u0275property"]("width",150)("pinned",!1)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](22),a["\u0275\u0275property"]("width",150)("pinned",!1)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](23),a["\u0275\u0275property"]("width",50)("pinned",!1)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](24),a["\u0275\u0275property"]("width",150)("pinned",!1)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](25),a["\u0275\u0275property"]("width",150)("pinned",!1)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](26),a["\u0275\u0275property"]("width",150)("pinned",!1)("sortable",!0)("resizable",!0)("filter",!0),a["\u0275\u0275select"](27),a["\u0275\u0275property"]("ngIf",t.claimsToSend.length>0))},directives:[dt.a,y.b,s.h,r.n,ct.AgGridAngular,ct.AgGridColumn,B.a,V.a],styles:[""]}),e}(),data:{breadcrumb:"List"}}]}],Pt=function(){function e(){}return e.ngModuleDef=a["\u0275\u0275defineNgModule"]({type:e}),e.ngInjectorDef=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.g.forChild(Vt)],s.g]}),e}();s.g.forChild(Vt);var $t=n("qiSS"),Bt=n("i2L+");n.d(t,"MusicReleasesModule",function(){return qt});var qt=function(){function e(){}return e.ngModuleDef=a["\u0275\u0275defineNgModule"]({type:e}),e.ngInjectorDef=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.c,Bt.a,Pt,i.FormsModule,i.ReactiveFormsModule,o.a,l.a,ct.AgGridModule.withComponents([]),$t.a],Bt.a]}),e}();ct.AgGridModule.withComponents([])}}]);